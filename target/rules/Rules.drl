package com.sample
import org.goodoldai.jeff.wizard.JEFFWizard;

global JEFFWizard ef;

rule "Dusty PC"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "shutdown/restart", noisy == true, cleaned == false)
    then
    	h.setSolution("Clean your PC");    	   
		update( h);
end

rule "Faulty cooler"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "shutdown/restart", noisy == true, cleaned == true)
    then
        h.setSolution("Replace cooler");        
        update(h);   
        ef.addText(null, "Faulty coooler", null, null);
end

rule "Faulty PSU"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "shutdown/restart", noisy == false, demandingOperations == true)
    then
        h.setSolution("Replace PSU");
        update(h);
end

rule "Faulty dedicated sound card"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "audio", typeOfSoundProblem == "no sound", dedicatedSoundCard == true)
    then
        h.setSolution("Replace sound card");
        update(h);
end

rule "Faulty onboard sound card"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "audio", typeOfSoundProblem == "no sound", dedicatedSoundCard == false)
    then
        h.setSolution("Replace motherboard");
        update(h);
end

rule "Faulty speakers cable"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "audio", typeOfSoundProblem == "clipping sound")
    then
        h.setSolution("Check your speakers cable");
        update(h);
end

rule "Faulty VGA/DVI/DP monitor cable"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "video", checkedVideoCable == false)
    then
        h.setSolution("Check monitor (DVI/VGA/DP) cable");
        update(h);
end

rule "Faulty graphic card"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "video", checkedVideoCable == true)
    then
        h.setSolution("Replace graphic card");
        update(h);
end

rule "Faulty RAM"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "stuttering", triedDifferentRam  == false)
    then
        h.setSolution("Try different RAM sticks or change the slots of current ones");
        update(h);
end

rule "Faulty hard disk drive"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "stuttering", triedDifferentRam  == true)
    then
        h.setSolution("Check or replace your hard disk drive");
        update(h);
end

rule "Dead PSU"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "wont start", startupSound == "quiet" )
    then
        h.setSolution("Replace PSU");
        update(h);
end

rule "Beeping problem"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "fix", problemToFix == "wont start", startupSound == "beeps")
    then
        h.setSolution("Find beep codes for your motherboard and examine the problem");
        update(h);
end

rule "Slow loading"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "office/internet", slowLoading == true)
    then
    	h.getRecommendations().add("Buy an SSD");
        update(h);
end

rule "RAM gaming upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "gaming", ramSize < 6)
    then
    	h.getRecommendations().add("Buy more RAM");
        update(h);
end

rule "CPU gaming upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "gaming", cpuCores  < 4)
    then
	    h.getRecommendations().add("Buy at least quad-core CPU");
        update(h);
end

rule "GPU gaming upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "gaming", vramSize   < 2)
    then
		h.getRecommendations().add("Buy at least 2GB VRAM GPU");
        update(h);
end

rule "FPS gaming"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "gaming", fpsGames == true)
    then
		h.getRecommendations().add("Consider buying a high DPI mouse and 120Hz/1ms monitor");
        update(h);
end

rule "Slow startup"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "office/internet", slowStartup == true)
    then
    	h.getRecommendations().add("Buy an SSD");        
        update(h);
end

rule "Multitasking problems"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "office/internet", multitask == true)
    then
        h.getRecommendations().add("Buy more RAM");
        update(h);
end

rule "CPU office/internet upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "office/internet", cpuCores < 2)
    then
    	h.getRecommendations().add("Buy at least dual-core CPU");        
        update(h);
end

rule "Monitor upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "multimedia", htpcOrRegular == "regular", monitorSize < 24)
    then
    	h.getRecommendations().add("Consider buying a 24\" or bigger monitor");
        update(h);
end

rule "Speakers upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "multimedia", speakers in (2.0,2.1))
    then
    	h.getRecommendations().add("Consider buying a 5.1 system");         
        update(h);
end

rule "Sound card upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "multimedia", dedicatedSoundCard == false)
    then
    	h.getRecommendations().add("Consider buying a dedicated sound card");        
        update(h);
end

rule "Hard disk drive upgrade"
lock-on-active true
    when
        h: Hardware(fixOrUpgrade  == "upgrade", primaryUsage == "multimedia", enoughStorage == false)
    then
    	h.getRecommendations().add("Buy a bigger HDD");        
        update(h);
end